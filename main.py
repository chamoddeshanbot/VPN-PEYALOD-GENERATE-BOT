from pyrogram import Client, filters
import random
from typing import Union
from config import Config
from logo import generate_logo
from logo import get_wallpapers, get_unsplash
from pyrogram.types import *
import result
from pyrogram.types import InputMediaPhoto, User, Message, InlineQueryResultPhoto, InlineQueryResult, InputTextMessageContent, InlineKeyboardMarkup, InlineKeyboardButton, CallbackQuery, InlineQuery, Chat
from pyrogram.errors import UserNotParticipant, ChatAdminRequired, UsernameNotOccupied, FloodWait
from pyrogram.types import (
    InlineKeyboardButton,
    InlineKeyboardMarkup
)
from pyrogram import filters
from telegram import Message, MessageId
from telegram.ext import CallbackContext, Filters, MessageHandler
from telegram.error import ChatMigrated
from telegram.update import Update
from pyrogram.types import Message
from pyrogram import Client
from requests import get
import os
import requests
from pyrogram.types import InlineKeyboardMarkup, InlineKeyboardButton


caption = """
âœï¸ User Info Bot ğŸ‡±ğŸ‡°

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡

ğŸš€ ** You Id ** â³ `{}`

ğŸŒº **You Name** : #press Button(my name)

ğŸŒ¿ **My Picture ** : #press Button(my picture)

ğŸ¤ğŸ¿ **Powered By **  : **[Network Tech ğŸ‡±ğŸ‡°](https://t.me/NetworksTech)**

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡ï¸  """
caption2 = """
âœï¸ User Info Bot ğŸ‡±ğŸ‡°

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡

ğŸš€ ** You name ** â³ {}

ğŸŒº **You id ** : #press Button(my id)

ğŸŒ¿ **My Picture ** : #press Button(my picture)

ğŸ¤ğŸ¿ **Powered By **  : **[Network Tech ğŸ‡±ğŸ‡°](https://t.me/NetworksTech)**

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡ï¸  """

caption3 = """
âœï¸ Wallpaper Generated Successfullyâœ…

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡

ğŸš€ **Generated By** : **[LOGO GENERATE BOT ğŸ”…](http://t.me/The_logo_generate_bot)**

ğŸŒº **Requestor** :||** {} **||

ğŸŒ· **Powered By **  : **[Network Tech ğŸ‡±ğŸ‡°](https://t.me/NetworksTech)**

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡ï¸  
    """

caption4 = """
âœï¸ Logohq Generated Successfullyâœ…

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡

ğŸš€ **Generated By** : **[LOGO GENERATE BOT ğŸ”…](http://t.me/The_logo_generate_bot)**

ğŸŒº **Requestor** :||** {} **||

ğŸŒ· **Powered By **  : **[Network Tech ğŸ‡±ğŸ‡°](https://t.me/NetworksTech)**

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡ï¸  
    """

HELP = """

**ğŸ–¼ How To Use Me ?**

**â™»ï¸ Example:** 

/logo NetwokTech
/logohq NetwokTech
/wall fish
/write NetwokTech
/slogo NetwokTech
/slogohq NetwokTech
/swall fish
/unsplash fish
"""
START = """

**ğŸ–¼ How To Use Me ?**

Hello there, ğŸ’ğŸ’

bot gen oyalata logo create karagannam
oyala bot wa oyalage onama group ekakata
add karala ehemath naththam bot inna group
ekata join wela @Network_techchat /logo command
eka bavitha karala logo create karaganna 
puluwan...ita passe bot logo eka create
karala euwama oyalata (send inbox) kiyana
inline button eka press karala oyalata
logo eka inbox ganna puluwan...

â­•ï¸ Bot Command â¬‡ï¸

/logo NetwokTech
/logohq NetwokTech
/wall fish
/write NetwokTech
/slogo NetwokTech
/slogohq NetwokTech
/swall fish
/unsplash fish

"""

app = Client(
    'logo Bot',
    bot_token = Config.BOT_TOKEN,
    api_id = Config.API_ID,
    api_hash = Config.API_HASH
)
 
FSUBB = InlineKeyboardMarkup(
        [[
        InlineKeyboardButton(text="Network Tech ğŸ‡±ğŸ‡°", url=f"https://t.me/NetworksTech") 
        ]]      
    )

@app.on_message(filters.command("start"))
async def start(client: Client, message: Message):
    try:
        await message.reply_chat_action("typing")
        await message._client.get_chat_member(int("-1001638745764"), message.from_user.id)
    except UserNotParticipant:
        await message.reply_text(
        text=f"**â›”ï¸ Access Denied â›”ï¸**\n\nğŸ™‹â€â™‚ï¸ **Hey There** {message.from_user.mention}, You Must **Join** @NetworksTech  Telegram **Channel** To Use This BOT. So, **Please Join** it & Try AgainğŸ¤—. **Thank** You ğŸ¤", disable_web_page_preview=True, reply_markup=FSUBB, reply_to_message_id = message.message_id
    )
        return
    await message.reply_sticker(sticker = "CAACAgUAAxkBAAIDTmIH_UzldE-IIKD0-N_n_hrcVhzRAAKaAwACKwAB-VTV1LdMsVUFGCME")
    await message.reply_photo(
        photo=f"https://telegra.ph/file/12155d9fd310edf3fab33.jpg",
        caption = """
ğŸ€ hello There 

ğŸ™‹â€â™‚ï¸ I am Logo Generate Bot,I can 

ğŸŒº Generating logo
ğŸŒ· Generating wallpaper
ğŸš€ Generating 4k logo
ğŸ€ Writing Picture
ğŸ”¥ **Inline search Image**
ğŸ¯ 24 horse active

ğŸ”¥ Bot Commands ğŸ”¥

/logo NetwokTech
/logohq NetwokTech
/wall fish
/write NetwokTech
/slogo NetwokTech
/slogohq NetwokTech
/swall fish
/unsplash fish

ğŸŒ¿ Developer : || @chamod_deshan ||

ğŸ”¥ [Network Tech ğŸ‡±ğŸ‡°](https://t.me/NetworksTech) Corporation Â©ï¸
""",
    reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                        "â• â° á´€á´…á´… á´á´‡ á´›á´ É¢Ê€á´á´œá´˜ â± â•", url=f"https://t.me/The_logo_generate_bot?startgroup=true"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "Network Tech ğŸ‡±ğŸ‡°", url=f"https://t.me/NetworksTech"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "Network Tech Chat ğŸ‡±ğŸ‡°", url="https://t.me/Network_techchat"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸŒ· Developer ğŸŒ·", url=f"https://t.me/chamod_deshan"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸ†˜   help   ğŸ†˜", callback_data="help"
                    )
                ],
                [
                    InlineKeyboardButton(text=
                       "â—‡â”€â”€â”€â”€ğŸ” Search Here Image ğŸ”â”€â”€â”€â”€â—‡", switch_inline_query_current_chat=""
                    )
                ]
           ]
        )
    )


@app.on_message(filters.command("help"))
async def help(bot, message):
  await message.reply_photo("https://telegra.ph/file/bd9a2bb25666a94f30211.jpg",caption=HELP,reply_markup=InlineKeyboardMarkup([[InlineKeyboardButton(text="<<< Back", callback_data="start_menu")]]), reply_to_message_id = message.message_id)   

@app.on_message(filters.command("about"))
async def about_(client: Client, message: Message):
    try:
        await message.reply_chat_action("typing")
        await message._client.get_chat_member(int("-1001638745764"), message.from_user.id)
    except UserNotParticipant:
        await message.reply_text(
        text=f"**â›”ï¸ Access Denied â›”ï¸**\n\nğŸ™‹â€â™‚ï¸ **Hey There** {message.from_user.mention}, You Must **Join** @NetworksTech  Telegram **Channel** To Use This BOT. So, **Please Join** it & Try AgainğŸ¤—. **Thank** You ğŸ¤", disable_web_page_preview=True, reply_markup=FSUBB, reply_to_message_id = message.message_id
    )
        return
    await message.reply_sticker(sticker = "CAACAgUAAxkBAAIDTmIH_UzldE-IIKD0-N_n_hrcVhzRAAKaAwACKwAB-VTV1LdMsVUFGCME")
    await message.reply_photo(
        photo=f"https://telegra.ph/file/bd9a2bb25666a94f30211.jpg",
        caption = """

ğŸ”¥ [Network Tech ğŸ‡±ğŸ‡°](https://t.me/NetworksTech) Corporation Â©ï¸
""",
    reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                        "â• â° á´€á´…á´… á´á´‡ á´›á´ É¢Ê€á´á´œá´˜ â± â•", url=f"https://t.me/The_logo_generate_bot?startgroup=true"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "Network Tech ğŸ‡±ğŸ‡°", url=f"https://t.me/NetworksTech"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "Network Tech Chat ğŸ‡±ğŸ‡°", url="https://t.me/Network_techchat"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸŒ· Developer ğŸŒ·", url=f"https://t.me/chamod_deshan"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸ†˜   help   ğŸ†˜", callback_data="id"
                    )
                    
                ],
                [
                    InlineKeyboardButton(text=
                       "â—‡â”€â”€â”€â”€ğŸ” Search Here Image ğŸ”â”€â”€â”€â”€â—‡", switch_inline_query_current_chat=""
                    )
                ]
           ]
        )
    )

@app.on_message(filters.command("id"))
async def id(client, message):
  text = message.text.split(None, 1)[1]
  photo = await generate_logo(text)
  await message.reply_chat_action("upload_photo")
  await app.send_photo(message.chat.id, photo=photo, caption =caption.format(message.from_user.id), reply_to_message_id = message.message_id,
               reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                        "ğŸ“¸ My Picture ğŸ“¸", callback_data="pic"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "âœ My name âœ", callback_data="name"
                    )
                ]
            ]
          )
    )

@app.on_message(filters.command("n"))
async def n(client, message):
    text = {message.from_user.first_name}
    photo = await generate_logo(text)
    await message.reply_chat_action("upload_photo")
    await app.send_photo(message.chat.id, photo=photo, caption =caption2.format(message.from_user.mention), reply_to_message_id = message.message_id,
                 reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                        "ğŸ“¸ My Picture ğŸ“¸", callback_data="pic"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "âœ My Id âœ", callback_data="id"
                    )
                ]
            ]
          )
    )
 

@app.on_callback_query()
async def button(app, update):
      cb_data = update.data
      if "id" in cb_data:
        await update.message.delete()
        await id(app, update.message)
      elif "n" in cb_data:
        await update.message.delete()
        await n(app, update.message)
      elif "ha" in cb_data:
        await update.message.delete()

@app.on_callback_query(filters.regex("namWje"))
async def help(_,query):
  await query.answer(f"ğŸ– Bot Help ğŸ–")
  await query.message.edit(HELP,reply_markup=InlineKeyboardMarkup([[InlineKeyboardButton(text="<<< Back", callback_data="start")]]))


@app.on_callback_query(filters.regex("help"))
async def help(_,query):
  await query.answer(f"ğŸ– Bot Help ğŸ–")
  await query.message.edit(HELP,reply_markup=InlineKeyboardMarkup([[InlineKeyboardButton(text="<<< Back", callback_data="start")]]))


app.run()
